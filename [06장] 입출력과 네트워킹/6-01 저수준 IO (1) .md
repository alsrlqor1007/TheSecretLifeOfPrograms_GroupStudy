# 저수준 I/O (1)

## I/O 포트

가장 단순한 I/O는 CPU가 읽고 쓸 수 있는 비트에 물건을 연결한 형태의 I/O이다.

### PORTB

포트 B는 세 가지 레지스터에 의해 제어된다.
![AVR PORTB 레지스터](https://media.discordapp.net/attachments/879215554379018243/987693143614976010/IMG_9658.jpg)

![AVR 포트 B의 구성](https://cdn.discordapp.com/attachments/879215554379018243/987695694976536616/unknown.png)

- **DDRB(데이터 방향 레지스터)**
  - PORTB에 대한 `데이터방향 레지스터`이다.
  - 각 핀을 입력으로 쓸지 출력으로 쓸지 결정
  - 레지스터의 비트에 `1`을 넣으면 그 비트 번호에 해당하는 포트 B 비트가 `출력`에 쓰인다.
  - `0`을 넣으면 `입력`에 쓰인다.
- **PORTB**
  - 어느 비트에 0이나 1을 넣으면 핀의 출력 전압이 0이나 1로 바뀐다.
- **PINB**
  - 핀의 값을 읽는다.
    ex) 6번, 0번 핀을 하이, 나머지를 로우로 한다. => 01000001(0x41)

![포트 B에 전구와 스위치를 연결한 모습](https://cdn.discordapp.com/attachments/879215554379018243/987695166636826634/unknown.png)

위는 포트 B에 전구와 스위치를 연결한 것이다. PB7은 전압을 0에서 1로 전환할 수 있고, PB0은 아무 전류도 흐르지 않는다. 전기는 PB0이 1일 때 LED를 통해 흐르고, LED를 빛나게 한다. 따라서 PORTB0 비트에 값을 넣으면 LED를 켜거나 끌 수 있다.
