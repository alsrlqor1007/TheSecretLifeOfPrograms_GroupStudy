# 문자열

문자열은 여러 문자로 이루어진 시퀀스를 `문자열(string)`이라고 한다.

문자열은 연산할 때 그 `길이`를 알아야 한다. 각 문자열을 위해 배열을 할당하는 것만으로 충분하지 않다. 길이가 변할 수 있는 가변 문자열 데이터에 작용하는 프로그램이 많기 때문이다.

문자열 길이를 추적하는 방법 <br />

- **첫 번째 바이트에 문자열 길이를 넣는다.**

  - 이 방법은 잘 작동하지만, 문자열 길이가 `255자`로 제한된다. (여러 애플리케이션은 255자로 불충분하다.)
  - 더 긴 문자열을 위해 바이트를 더 할당할 수 있지만, 부가 비용(길이를 저장하기 위한 바이트 수)이 수많은 문자열 길이를 넘어서는 경우가 생긴다.
  - 문자열은 바이트라서 메모리 정렬이 그때그때 다를 수 있다.

  길이를 저장하기 위해서 몇 바이트를 할당하려면 길이 정보는 반드시 올바른 메모리 정렬 경계에 있어야 한다.
  <br />

- **C는 1차원 바이트 배열을 사용한다.**

  - 문자열은 문자 배열이므로 C에서 1바이트를 나타내는 데이터 이름이 char이 되었다.
  - C 문자열은 길이를 저장하지 않는다는 점이 다르다.
  - 대신 문자 배열에 들어있는 문자열 데이터의 끝에 바이트를 하나 추가하고, 여기서 문자열의 끝을 표시하기 위해 NUL(\O)을 넣는다. (ASCII NUL 문자)
    이렇게 문자열 맨 마지막을 가리키는 글자를 `문자열 터미네이터`라고 한다.

  ![그림 7-5, C 언어의 문자열 저장 방식과 문자열 끝 표시 방식](https://cdn.discordapp.com/attachments/879215554379018243/992792746366603274/unknown.png)
  <br />
  문자열 길이보다 1바이트가 더 쓰였다. 문자열 터미네이터에 1바이트가 더 쓰인 것이다.

  - NUL은 대부분 기계에 주어진 값이 0인지 검사하는 명령어가 있어 좋은 터미네이터 문자이다.
  - 다른 문자를 터미네이터로 사용하면 널 문자인지 검사하기 위한 값을 적재해야 해서 비용이 더 든다.

    <br />

  - **장점**
    - 저장이 쉽다.
    - 문자열의 각 문자를 끝까지 출력해라 라는 일을 할 때 부가 비용이 들지 않는다.
  - **단점**
    - 문자열 길이를 알아내려면 문자열 터미네이터를 발견할 때까지 문자열을 스캔하면서 문자 수를 세야한다
    - 문자열 중간에 NUL을 넣고 싶으면 이 방법을 사용할 수 없다.

---

<참고><br />

[ null 터미네이터(\0)를 사용해 문자열의 끝을 식별하기](https://wikidocs.net/85741)<br />
