# 효율성과 성능

요즘은 `덜 효율적인 알고리즘`을 돌려도 `더 많은 프로세서`를 사용하면 `더 효율적인 알고리즘`을 `더 적은 프로세서`에서 실행할 때보다 더 나은 성능을 얻을 수 있다.
<br />

### 데이터베이스 샤딩 (수평 파티셔닝)

데이터베이스를 각각 다른 기계에서 실행되는 여러 `샤드`로 나누는 방식.
하나의 거대한 데이터베이스 테이블을 `수평 분할`하여 여러 작은 단위로 나눈 후, 물리적으로 다른 위치에 분산해 저장,관리하는 기술이다.
<br />
**장점**

- 각각 자체 cpu, 메모리, 디스크가 있는 독립 서버에서 확장성을 위한 방법을 제공한다.
  - 부하를 분산시키고, 더 많은 트래픽과 처리를 위해 더 많은 시스템을 추가한다.
  - 데이터베이스의 `크기`와 시스템 `리소스`의 `적절한 균형`을 유지할 수 있어 애플리케이션 `성능` 및 `확장성`이 향상된다.
- 작업을 병렬적으로 수행할 수 있기 때문에 성능이 향상된다.
  - 단일 데이터베이스에서 쿼리를 하면, 결과를 찾기 위해 모든 행을 검색해야 할 수도 있다. 이 경우 쿼리가 엄청 느려질 수도 있다. 그러나 한 테이블을 여러 개의 테이블로 분할하면 쿼리 행 수가 줄어들고, 결과 집합이 더 빠르게 반환된다.
- `애플리케이션의 안정성`을 높인다.
  - 샤딩을 사용하지 않으면 전체 데이터베이스가 손상된 경우 전체 애플리케이션을 사용할 수 없는 경우가 있는데, 샤딩을 사용하면 일부 데이터베이스가 손상되더라도, 전체가 손상된 것보다 영향이 덜하다.

<br />

- **단일 샤드** : 각 데이터베이스 작업은 단일 고객 트랜잭션과 같은 단일 샤드에 대해 수행된다.
- **다중 샤드** : 이는 일반적으로 하나 이상의 샤드에 대해 병렬로 수행되는 분석 쿼리에 적용되므로 인상적인 성능 결과를 얻을 수 있다.
  <br />

### 맵리듀스(MapReduce)

구글에서 대용량 데이터 처리를 분산 병렬 컴퓨팅에서 처리하기 위한 목적으로 제작해 발표한 소프트웨어 프레임워크이다.

맵과 리듀스 총 두 단계로 구성되며 `맵` 함수는 데이터를 입력받아 쪼개고, `리듀스`에서 원하는 결과를 얻어내는 것이라고 볼 수 있다.<br />
![맵리듀스](https://t1.daumcdn.net/cfile/tistory/99FC4B345B62DEB71C)
<br />

**장점**

- 단순하고 사용이 편리하다
- 유연하고, 특정 데이터 모델이나 스키마 정의, 질의 언어에 의존적이지 않아 비정형을 데이터 모델을 유연하게 지원 가능하다.
- 저장 구조와 독립적이다.
- 확장성이 높다.

**단점**

- 복잡한 연산이 어렵다.
- 기존 DBMS가 제공하는 스키마, 질의 언어, 인덱스 등의 기능을 지원하지 않는다.
- 상대적으로 성능이 낮다. 예를 들면, 모든 Map과정이 진행될 때 까지 Reduce는 시작될 수 없다. 즉, 맵리듀스는 병렬화를 수행할 수 없으므로 성능이 낮아질 수 밖에 없다.

---

<참고>
<br />
[맵리듀스 개념 정리](https://songsunbi.tistory.com/5)<br />
[[하둡] 맵리듀스(MapReduce) 이해하기](https://12bme.tistory.com/154)<br />
[데이터베이스 샤딩](http://wiki.hash.kr/index.php/%EB%8D%B0%EC%9D%B4%ED%84%B0%EB%B2%A0%EC%9D%B4%EC%8A%A4_%EC%83%A4%EB%94%A9)
