# 오류 감지와 정정

한 줄기의 우주 방사선이 언제 메모리에 닿아서 비트가 잘못될 지 알 수 없다. 이럴 때 잘못된 부분을 즉시 복구할 수 있다면 좋을 것이다. 컴퓨터는 데이터에 오류가 생겼을 때 어떻게 감지할까?

<br />

### 패리티

- 데이터에서 `1로 설정된 비트의 개수`가 `짝수`인지 `홀수`인지 나타내는 1비트를 데이터에 덧붙인다.
- 모든 비트의 XOR을 취하면 위와 같은 비트를 만들 수 있다.
- 단 1비트만 데이터가 잘못된 경우도 감지할 수 있다.
- 그러나 오류가 짝수 번 발생하면 오류가 발생하지 않은 경우와 구분이 불가능하다.
- `끊임없이 변화하는 데이터`를 처리할 때 유용하다.

<br />

- **짝수 패리티**
  모든 비트를 서로 `XOR`한 값
- **홀수 패리티**
  모든 비트를 서로 `XOR`한 값의 보수를 사용
  <br />

### 해밍 코드 (Hamming code)

- 패리티보다 더 많은 비트를 사용해 더 많은 오류를 감지할 수 있다.
- 오류 횟수가 적으면 오류가 일어난 부분을 바로 수정할 수 있다.
- 이 회로를 내장한 `오류 검사와 정정 메모리칩 (ECC, error checking and correction)`이라는 것이 있다.
  <br />

### 체크섬 (ckechsum)

- 데이터의 각 지점을 n 비트값으로 더하고, n비트를 넘어가는 값은 무시한다.
- 체크섬에서 사용하는 값이 클수록 `위양성 결과 (데이터가 잘못되었음)`가 발생하기는 더 어렵다.
- 컴퓨터 프로그램과 같이 정적인 데이터 블록을 검증한다.

<br />

### 순환 중복 검사 (CRC, cyclic redundancy check)

- 수학적으로 체크섬보다 더 낫다.
- 데이터의 고유성을 충분히 드러낼 수 있는 방식으로 `검증 숫자`를 계산해, 데이터가 약간이라도 바뀌면 검증 숫자가 일치하지 않게 하는 것이다.
