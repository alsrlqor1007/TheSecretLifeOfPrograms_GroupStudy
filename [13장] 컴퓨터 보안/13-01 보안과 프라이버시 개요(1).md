## 보안과 프라이버시 개요

### 위협 모델

위협(threat)이 없다면 보안을 논할 이유가 없다. 보안은 `위협 모델(threat model)`에 따라 상대적이다.
위협 모델은 보안이 필요한 대상 목록과 각 보안 대상에 가해질 수 있는 공격을 열거해서 이런 공격을 방어하는 방법을 설계할 수 있게 한다.

100% 보안은 존재하지 않기 때문에 위협 모델을 이해하고 위협 모델에 따라 적합한 방어를 설계해야 한다.
예를 들어, 학교에서 학용품이나 가방을 보관하기 위한 수단이 필요하다고 하자. 학생마다 경비원을 고용하는 대신 사물함을 사용하는 것이 적합하다.

간혹 보안을 해치는 경우도 있다. 예를 들어, 많은 기업들은 패스워드 조합 방법과 패스워드 변경을 주기적으로 유도한다. 이로 인해 사용자듪은 쉽게 추측할 수 있는 패턴의 패스워드를 사용하거나 어디 저장해두기도 한다.

위협 모델을 정의하지 않으면 효과적으로 보안을 강화할 수 없다. 위협과 위협에 대비한 방어 사이에 균형을 맞춰야 한다.
목표는 공격자가 통과하려면 비싸지만 방어자에게는 비용이 적게 드는 방어를 사용하는 것이다.

<br></br>

### 신뢰

위협 모델을 정의할 때 가장 어려운 것은 `신뢰(trust)할 대상`을 정하는 것이다.
인간 관계에서는 직접 만나거나 상호작용을 통해 상대를 신뢰할 수 있는지 사람이 판단할 수 있다.
하지만 와이파이 액세스 포인트를 신뢰할 수 있는지는 동일하게 판단할 수 없다.

또한, 제어할 수 없는 대상을 신뢰할 때마다 보안은 감소한다. 비밀을 털어 놓는 친구가 늘어날 때마다 비밀이 알려질 확률이 더 높아지는 것과 같다.
즉, 처음 신뢰를 하는 순간부터 보안은 나빠지고, 신뢰할 대상을 추가할수록 보안은 더 악화된다.

컴퓨터 보안 세계에서 '신뢰'라는 것은 사람이 선택할 수는 없지만, 의존해야 하는 대상을 가리키는 말이기도 하다.
보안을 아주 높이기 위해서는 꼭 필요한 대상만으로 신뢰를 최소화해야 한다. 컴퓨터를 사용하거나 개발을 하다보면, 수많은 서드파티(third-party) 하드웨어나 소프트웨어에 의존해야 한다.
이런 하드웨어안 소프트웨어의 설계도나 소스 코드를 볼 수는 없지만 의존하지 않을 수도 없다.

<br/>

> 3가지 유형의 신뢰 위반

1. `의도적(deliberate)`

    SONY가 고객의 컴퓨터에 설치했던 시스템 보호를 우회하는 소프트웨어 모음(루트킷_rootkit)이나 Levono가 랩탑에 설치했던 광고 표시 멀웨어처럼 컴퓨터 제조사가 의도적으로 설치한 프로그램을 예시로 들 수 있다.


2. `무능(incompetent)`

    암호화가 되지 않은 대상들이다. 또는, 과거 지멘스와 시스코의 예시로 패스워드가 하드코딩 된 사례가 있다.


3. `부정직(disingenuous)`

    거짓말하는 것을 말한다. 과거 미국 국립 표준 기술 연구소에서 미국 국가안보국의 전문가들의 도움으로 암호 표준을 만들었는데, 나중에 의도적으로 표준을 강화하지 않고 약화시켰던 것이다.
    이로 인해, 스파이 활동이 더 쉬워졌고 은행 계정 보안도 더 약해졌다.

`모호성에 의한 보안`이라는 말은 비밀의 근원이 모호하면 보호 대상이 더 안전하다는 식의 주장이다. 하지만 역사 속에서 여러 가지 사건을 통해 실제로는 그렇지 않다는 사실이 드러났다.
또한, 암호를 사용해서 안전하다고 생각하지만, 사용자도 모르게 암호화되지 않은 정보를 빼낼 수 있게 하는 여러 수단을 `클렙토그래피(kleptography)`라고 한다.

<br></br>

### 물리적 보안

- `공격 표면(attack surface)`

    다시 학교 사물함을 예시로 들자면, 사물 안에 소지품에 접근하기 위해 공격자들이 노리는 대상은 사물함의 문이므로 사물함 문을 공격 표면이라고 부른다.


- `권한 부여(authorization)`

    사물함에 달린 자물쇠의 비밀번호를 안다는 것은 해당 사물함을 열 수 있도록 권한(privilege)을 부여받은 것이라고 할 수 있다. 여기서 자물쇠가 일종의 또 다른 공격 표면이라고 할 수 있다.


- `백 도어(back-door)`

    사물함 자물쇠 가운데에는 보통 열쇠 구멍이 있다. 이를 백 도어라고 하며, 이또한 하나의 공격 표면이기도 하다.
    이 구멍은 모든 사물함을 빠르게 열 수 있도록 편의상 만든 것이지만, 이로 인해 보안은 더 약화된다. 여기서 자물쇠 비밀번호 뿐만 아니라, 이 열쇠를 갖고 있는 사람은 더 높은 권한 수준을 갖는다고 표현할 수 있다.

<br></br>

### 통신 보안

앞에서는 물리적인 보안을 다루었다. 하지만 네트워크처럼 통신상의 보안도 필요하다.

학교 생활을 예시로, 친구를 통해 누군가에게 물건을 전달한다고 가정한다.

- `인증(authentication)`

    첫 번째 단계이다. 물건을 전달해 줄 매개자가 본인이 알고 있는 친구인지 확인하는 과정이다. 여기서 친구를 흉내내거나 속이는 것이 공격 표면이 될 수 있다.


- `진본성(authenticity)`

    물건을 전달할 매개자가 인증되어도, 의도한대로 잘 전달할지는 미지수이다. 물건이 파손될 수도 있고 다른 물건이 될 수도 있다.


- `중간자 공격(man-in-the-middle attack)`

    중간에 공격자가 들어가서 통신을 가로채거나 변경하는 상황이다. 불특정 신원의 대상이 중간자 공격을 취하면 인증할 수 있는 기회도 없다.


- `크립토그래피(cryptography)`

    위와 같은 상황에서 해결책은 크립토그래피이다. 송신자와 수신자만 아는 비밀 코드를 사용해 `암호화(encrypt)`해서 보내면 수신자는 비밀 코드를 사용해 암호화된 메시지를 `복호화(decrypt)`한다.
    이 비밀 코드는 비밀로 유지되어야 하며, 제대로 설계된 암호 시스템은 당사자 사이에 신뢰하는 요소의 수를 감소시킨다.

<br></br>

### 인증(Authentication)과 인가(Authorization)의 차이

|        -          |   인증(Authentication)   |  인가(Authorization)   |
|:-----------------:|:----------------------:|:--------------------:|
|        기능         |        자격 증명 확인        |       권한 허가/거부       |
|       진행 방식       | 비밀번호, 생체인식, 일회용 핀 또는 앱 | 보안 관리 주체가 관리하는 설정 사용 |
|   사용자가 볼 수 있는가    |           O            |          X           |
| 사용자가 직접 변경할 수 있는가 |        부분적으로 가능        |         불가능          |
|      데이터 전송       |        ID 토큰 사용        |      액세스 토근 사용       |

<br></br>

### 참고 자료
- [인증과 인가 (권한 부여) 비교 – 특징 및 차이점](https://www.okta.com/kr/identity-101/authentication-vs-authorization/)
- [Authentication vs Authorization](https://auth0.com/intro-to-iam/authentication-vs-authorization/)